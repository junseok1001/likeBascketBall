<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

    <link layout:fragment="style" rel="stylesheet" href="/main/css/style.css">


<th:block layout:fragment="contents">
    <header id="home" class="hero-section">
        <div class="hero-overlay"></div>
        <div class="container hero-container text-center text-white">
            <h1 class="display-3 fw-bold mb-3">농구인들의 모든 것</h1>
            <p class="fs-4 mb-5 opacity-90">동호회 모집부터 용품 구매, 친선경기까지 한 곳에서</p>
            <div class="d-flex justify-content-center gap-3">
                <button class="btn btn-orange btn-lg px-5 py-3 fw-bold shadow">지금 시작하기</button>
                <button class="btn btn-light btn-lg px-5 py-3 fw-bold shadow">용품 둘러보기</button>
            </div>
        </div>
    </header>

    <section id="clubs" class="py-5 bg-white">
        <div class="container py-5">
            <div class="text-center mb-5">
                <h2 class="fw-bold section-title">동호회 모집</h2>
                <p class="text-muted">함께 농구를 즐길 동료들을 찾아보세요</p>
            </div>
            <div class="row g-4">
                <div th:each="club :${clubs}" class="col-md-3">
                    <div th:value="${club.id}" class="card club-card border-0 shadow-sm h-100">
                        <img th:src="${club.profileImage}" src="https://images.unsplash.com/photo-1546519638-68e109498ffc?w=500" width="500" height="250" class="card-img-top" alt="club">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h5 th:text="${club.clubName}" class="fw-bold mb-0">서울 슬램덩크</h5>
                            </div>
                            <div class="club-info text-muted mb-3">
                                <p th:text="${club.activityArea}"><i class="fas fa-map-marker-alt"></i> 서울 강남구</p>
                                <p th:text="${club.meetingDay} + ' '+ ${club.meetingTime}"><i class="far fa-clock"></i> 토요일 19:00</p>
                            </div>
                            <button class="btn btn-dark w-100 fw-bold">가입 신청</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-5">
                <a href="/club" class="btn btn-dark btn-lg px-4 fw-bold rounded-pill shadow-lg"><i class="fas fa-plus me-2"></i> 동호회 모집하기</a>
            </div>
        </div>
    </section>

    <section id="shop" class="py-5 bg-light">
        <div class="container py-5">
            <div class="text-center mb-5">
                <h2 class="fw-bold section-title">농구용품 샵</h2>
                <p class="text-muted">최고의 농구 장비로 실력을 향상시키세요</p>
            </div>
            <div class="row g-4">
                <div th:each="good:${goods}" class="col-md-3">
                    <a th:href="|/goods/detail/${good.goodsId}|" class="card product-card border-0 shadow-sm h-100">
                        <div style="overflow: hidden;"> <img th:src="${good.mainImage}" src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=500" class="card-img-top" alt="shoes">
                        </div>
                        <div class="card-body">
                            <h6 th:text="${good.title}" class="fw-bold">나이키 에어 조던 XXXVIII</h6>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                            <span class="fw-bold text-orange">
                                <span th:text="${#numbers.formatInteger(good.price, 3, 'COMMA')}">259,000</span>원
                            </span>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="text-center mt-5">
                <a href="/goods" class="btn btn-orange text-white px-4 py-2 fw-bold">전체 상품 보기 <i class="fas fa-chevron-right ms-1"></i></a>
            </div>
        </div>
    </section>

    <section id="matches" class="py-5 bg-white">
        <div class="container py-5">
            <div class="text-center mb-5">
                <h2 class="fw-bold section-title">친선경기 신청</h2>
                <p class="text-muted">다른 동호회와 실력을 겨뤄보세요</p>
            </div>
            <div class="match-list shadow-sm rounded-4 overflow-hidden">
                <div class="match-item d-flex align-items-center justify-content-between p-4 border-bottom">
                    <div class="teams d-flex align-items-center gap-4">
                        <span class="fw-bold">서울 슬램덩크</span>
                        <span class="vs-badge">VS</span>
                        <span class="fw-bold">부산 비스트</span>
                    </div>
                    <div class="match-meta text-center">
                        <div class="text-muted small">경기일시</div>
                        <div class="fw-bold">2025.01.20 14:00</div>
                        <div class="text-muted small">강남 실내체육관</div>
                    </div>
                    <div class="match-actions">
                        <span class="badge bg-warning-subtle text-warning px-3 py-2 me-2">신청 대기</span>
                        <button class="btn btn-success btn-sm px-3">수락</button>
                        <button class="btn btn-danger btn-sm px-3">거절</button>
                    </div>
                </div>
            </div>
            <div class="text-center mt-5">
                <button class="btn btn-dark px-4 py-2 fw-bold">친선경기 신청하기 <i class="fas fa-arrow-right ms-1"></i></button>
            </div>
        </div>
    </section>

    <section id="rankings" class="py-5 bg-light">
        <div class="container py-5">
            <div class="text-center mb-5">
                <h2 class="fw-bold section-title">동호회 랭킹</h2>
                <p class="text-muted">친선경기 결과를 기반으로 한 순위</p>
            </div>
            <div class="table-responsive bg-white rounded-4 shadow-sm p-4">
                <table class="table table-hover align-middle mb-0">
                    <thead class="table-light">
                        <tr>
                            <th class="ps-4">순위</th>
                            <th>팀명</th>
                            <th>승</th>
                            <th>패</th>
                            <th>승률</th>
                            <th class="pe-4">포인트</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="ps-4"><span class="rank-badge gold">1</span></td>
                            <td class="fw-bold">부산 비스트</td>
                            <td>12</td>
                            <td>2</td>
                            <td>85.7%</td>
                            <td class="pe-4 fw-bold text-orange">1245</td>
                        </tr>
                        <tr>
                            <td class="ps-4"><span class="rank-badge">2</span></td>
                            <td class="fw-bold">서울 슬램덩크</td>
                            <td>10</td>
                            <td>4</td>
                            <td>71.4%</td>
                            <td class="pe-4 fw-bold text-orange">1180</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="text-center mt-5">
                <button class="btn btn-dark px-4 py-2 fw-bold">전체 랭킹 보기 <i class="fas fa-arrow-right ms-1"></i></button>
            </div>
        </div>
    </section>

    <section id="board" class="py-5 bg-white">
        <div class="container py-5">
            <div class="text-center mb-5">
                <h2 class="fw-bold section-title">자유게시판</h2>
                <p class="text-muted">농구인들과 소통하고 정보를 공유하세요</p>
            </div>
            <div class="board-list shadow-sm rounded-4 overflow-hidden border">
                <div class="board-item p-4 border-bottom bg-white">
                    <div class="d-flex align-items-center mb-2">
                        <span class="badge bg-primary-subtle text-primary me-2">질문</span>
                        <h6 class="fw-bold mb-0">강남 지역 농구장 추천 부탁드립니다</h6>
                    </div>
                    <div class="board-meta text-muted small d-flex gap-3">
                        <span>김농구</span>
                        <span>2시간 전</span>
                        <span><i class="far fa-eye"></i> 234</span>
                        <span><i class="far fa-comment"></i> 12</span>
                        <span><i class="far fa-heart"></i> 8</span>
                    </div>
                </div>
            </div>
            <div class="text-center mt-5">
                <button class="btn btn-dark px-4 py-2 fw-bold mb-3">게시판 바로가기 <i class="fas fa-arrow-right ms-1"></i></button>
            </div>
        </div>
    </section>

    <section class="cta-section py-5 text-white">
        <div class="container text-center py-5">
            <h2 class="display-5 fw-bold mb-3">지금 바로 시작하세요</h2>
            <p class="fs-5 opacity-75 mb-4">농구를 사랑하는 사람들과 함께 더 즐거운 농구 생활을 만들어가세요</p>
            <button class="btn btn-light btn-lg px-5 py-3 fw-bold text-orange shadow-lg">무료로 시작하기 <i class="fas fa-arrow-right ms-1"></i></button>
        </div>
    </section>

    <th:block th:unless="${session.user == null}">
        <div class="message-floating-btn shadow-lg">
            <a href="/chat" class="d-flex align-items-center text-decoration-none">
                <span class="badge bg-danger rounded-pill me-2"></span> <i class="bi bi-chat-dots-fill fs-4 text-white"></i>
                <span class="ms-2 text-white fw-bold d-none d-md-inline">메시지</span>
            </a>
        </div>
    </th:block>
</th:block>

    <script layout:fragment="script">
        $(document).ready(function() {
            // 1. 스크롤 시 네비게이션 스타일 변경
            $(window).scroll(function() {
                if ($(this).scrollTop() > 100) {
                    $('.main-nav').addClass('scrolled');
                } else {
                    $('.main-nav').removeClass('scrolled');
                }
            });

            // 2. 스무스 스크롤 (Anchor 링크 클릭 시)
            $('a.nav-link').on('click', function(event) {
                if (this.hash !== "") {
                    event.preventDefault();
                    var hash = this.hash;
                    $('html, body').animate({
                        scrollTop: $(hash).offset().top - 80
                    }, 800);
                }
            });

            // 3. 버튼 클릭 시 피드백 (간단 로직)
            $('.btn-orange, .btn-dark').on('click', function() {
                console.log("Button Clicked: " + $(this).text().trim());
            });
        });
    </script>
</html>